<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Shuto" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="3S, 生命科学基礎実験, 生命科学基礎実験, " />
<meta property="og:image" content="https://www.genome.jp/tmp/mark_pathway1563378718109875/rno01100_0.35109875.png"/>

<meta property="og:title" content="シミュレーション実習 Day6 "/>
<meta property="og:url" content="https://iwasakishuto.github.io/study/notes/生命科学基礎実験-シミュレーション実習-6.html" />
<meta property="og:description" content="シミュレーション実習¶Day.6: トランスオミクス解析１：多階層代謝制御ネットワークの再構築 担当：黒田研究室 実習のwiki：Slides and programs 概要¶ Intoroduction UNIXコマンドの使い方 トランスオミクスStep1：変動した代謝物の同定 トランスオミクスStep2：責任代謝酵素の同定 1. Intoroduction これまでの実習は「ネットワーク構造」→「応答パターンの生成」 これからの実習は「現象（応答パターン）」→「モデル構築」 インスリンによる代謝制御は従来考えられていたよりも広範囲のネットワークに作用する多階層現象だと、トランスオミクス解析によってわかってきた。（下図参照） 実習全体のテーマ マルチオミクスデータとバイオインフォマティクスを用いて、多階層ネットワークを再構築する。 多階層ネットワークのアンバイアスな再構築法¶論文：Reconstruction of Insulin Signal Flow from Phosphoproteome and Metabolome Data 変動した代謝物の同定 責任代謝酵素の同定 リン酸化された責任代謝酵素の同定 インスリンシグナル伝達と責任代謝酵素をつなぐ アロステリック調節（活性部位以外の別の場所に、特異的に物質を結合する機能を持ち、この部位に物質の結合が行われると構造変化が起こって機能が変化する現象） ポイント 代謝を起点に階層をさかのぼる オミクスデータ + Pathway DB" />
<meta property="og:site_name" content="My Notes" />
<meta property="og:article:author" content="Shuto" />
<meta property="og:article:published_time" content="2019-07-17T00:00:00+09:00" />
<meta property="og:article:modified_time" content="2019-07-17T00:00:00+09:00" />
<meta name="twitter:title" content="シミュレーション実習 Day6 ">
<meta name="twitter:description" content="シミュレーション実習¶Day.6: トランスオミクス解析１：多階層代謝制御ネットワークの再構築 担当：黒田研究室 実習のwiki：Slides and programs 概要¶ Intoroduction UNIXコマンドの使い方 トランスオミクスStep1：変動した代謝物の同定 トランスオミクスStep2：責任代謝酵素の同定 1. Intoroduction これまでの実習は「ネットワーク構造」→「応答パターンの生成」 これからの実習は「現象（応答パターン）」→「モデル構築」 インスリンによる代謝制御は従来考えられていたよりも広範囲のネットワークに作用する多階層現象だと、トランスオミクス解析によってわかってきた。（下図参照） 実習全体のテーマ マルチオミクスデータとバイオインフォマティクスを用いて、多階層ネットワークを再構築する。 多階層ネットワークのアンバイアスな再構築法¶論文：Reconstruction of Insulin Signal Flow from Phosphoproteome and Metabolome Data 変動した代謝物の同定 責任代謝酵素の同定 リン酸化された責任代謝酵素の同定 インスリンシグナル伝達と責任代謝酵素をつなぐ アロステリック調節（活性部位以外の別の場所に、特異的に物質を結合する機能を持ち、この部位に物質の結合が行われると構造変化が起こって機能が変化する現象） ポイント 代謝を起点に階層をさかのぼる オミクスデータ + Pathway DB">

        <title>シミュレーション実習 Day6  · My Notes
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/study/notes/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/study/notes/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/study/notes/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/study/notes/theme/css/admonition.css" media="screen">



        <!-- Syntax highlight -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <!-- LaTex -->
        <!-- Github env -->
        <!--<script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
        <script type="text/x-mathjax-config">
        	MathJax.Hub.Config({
        		tex2jax: {
        			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        			displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
        		}
        	});
        </script>
        <!-- Mermaid -->
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" charset="UTF-8"></script>
        <script>
          mermaid.initialize({
            startOnLoad:true
          });
        </script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="https://iwasakishuto.github.io/study/notes/"><span class=site-name>My Notes</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="https://iwasakishuto.github.io/study/notes">Home</a></li>
                            <li ><a href="https://iwasakishuto.github.io/study/notes/categories">Categories</a></li>
                            <li ><a href="https://iwasakishuto.github.io/study/notes/tags">Tags</a></li>
                            <li ><a href="https://iwasakishuto.github.io/study/notes/archives">Archives</a></li>
                            <li><form class="navbar-search" action="https://iwasakishuto.github.io/study/notes/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="https://iwasakishuto.github.io/study/notes/生命科学基礎実験-シミュレーション実習-6.html"> シミュレーション実習 Day6  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="シミュレーション実習">シミュレーション実習<a class="anchor-link" href="#シミュレーション実習">¶</a></h1><p><b>Day.6: トランスオミクス解析１：多階層代謝制御ネットワークの再構築</b></p>
<ul>
<li>担当：<a href="http://kurodalab.bs.s.u-tokyo.ac.jp/">黒田研究室</a></li>
<li>実習のwiki：<a href="http://kurodalab.bs.s.u-tokyo.ac.jp/class/Summer/2019/">Slides and programs</a></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="概要">概要<a class="anchor-link" href="#概要">¶</a></h2><ol>
<li><a data-scroll="" href="#anchor1">Intoroduction</a></li>
<li><a data-scroll="" href="#anchor2">UNIXコマンドの使い方</a></li>
<li><a data-scroll="" href="#anchor3">トランスオミクスStep1：変動した代謝物の同定</a></li>
<li><a data-scroll="" href="#anchor3">トランスオミクスStep2：責任代謝酵素の同定</a></li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><h2 id="anchor1">1. Intoroduction</h2></p>
<ul>
<li>これまでの実習は<b>「ネットワーク構造」→「応答パターンの生成」</b></li>
<li>これからの実習は<b>「現象（応答パターン）」→「モデル構築」</b></li>
<li>インスリンによる代謝制御は従来考えられていたよりも広範囲のネットワークに作用する多階層現象だと、<font color="red"><b>トランスオミクス解析</b></font>によってわかってきた。（下図参照）</li>
</ul>
<p><img src="http://kurodalab.bs.s.u-tokyo.ac.jp/ja_old/research/img/research08_2.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div style="border: solid 1.0px #000000;padding: 0.5em 1em; margin: 2em 0;">
<h3>実習全体のテーマ</h3>
<p><b>マルチオミクスデータとバイオインフォマティクスを用いて、多階層ネットワークを再構築する。</b></p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="多階層ネットワークのアンバイアスな再構築法">多階層ネットワークのアンバイアスな再構築法<a class="anchor-link" href="#多階層ネットワークのアンバイアスな再構築法">¶</a></h3><p>論文：<a href="https://www.sciencedirect.com/science/article/pii/S2211124714005907">Reconstruction of Insulin Signal Flow from Phosphoproteome and Metabolome Data</a></p>
<ol>
<li>変動した代謝物の同定</li>
<li>責任代謝酵素の同定</li>
<li>リン酸化された責任代謝酵素の同定</li>
<li>インスリンシグナル伝達と責任代謝酵素をつなぐ</li>
<li><font color="red"><b>アロステリック調節</b></font>（活性部位以外の別の場所に、特異的に物質を結合する機能を持ち、この部位に物質の結合が行われると構造変化が起こって機能が変化する現象）</li>
</ol>
<table>
<thead><tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://ars.els-cdn.com/content/image/1-s2.0-S2211124714005907-gr1.jpg" /></td>
<td style="text-align:center"><img src="http://kurodalab.bs.s.u-tokyo.ac.jp/ja_old/research/img/research08_1.png" /></td>
</tr>
</tbody>
</table>
<div style="border: solid 1.0px #000000;padding: 0.5em 1em; margin: 2em 0;">
<h3>ポイント</h3>
<li>代謝を起点に階層を<font color="red"><b>さかのぼる</b></font></li>
<li>オミクスデータ + Pathway DB</li>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="anchor2">2. UNIXコマンドの使い方</h2><ul>
<li>なぜMATLABではなくUNIXコマンドを使うのか？→<b>「適材適所」</b></li>
</ul>
<table>
<thead><tr>
<th style="text-align:left"></th>
<th style="text-align:center">微分方程式</th>
<th style="text-align:center">テキスト初期<br />ファイル処理</th>
<th style="text-align:center">ターンオーバー</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">MATLAB</td>
<td style="text-align:center">+</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:left">UNIXコマンド</td>
<td style="text-align:center">-</td>
<td style="text-align:center"><font color="red"><b>+</b></font></td>
<td style="text-align:center"><font color="red"><b>+</b></font></td>
</tr>
</tbody>
</table>
<p>※ <b>ターンオーバー</b>：プログラムを最初に書いてから実行・修正を繰り返して完成させるまでの時間的手間</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="様々なコマンド">様々なコマンド<a class="anchor-link" href="#様々なコマンド">¶</a></h3><p>参考：<a href="https://afni.nimh.nih.gov/pub/dist/edu/data/CD.expanded/AFNI_data6/unix_tutorial/misc/unix_commands.html">Documentation</a></p>
<table>
<thead><tr>
<th style="text-align:center">課題No.</th>
<th style="text-align:center">コマンド</th>
<th style="text-align:left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>pwd</code></td>
<td style="text-align:left">今いるフォルダを表示</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>ls</code></td>
<td style="text-align:left">今いるフォルダ内のファイルを表示</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>cd</code></td>
<td style="text-align:left">フォルダ間を移動</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>more</code></td>
<td style="text-align:left">ファイルの中身を見る</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>wc</code></td>
<td style="text-align:left">ファイルの文字数を数える</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>expr</code></td>
<td style="text-align:left">四則演算を行う<b>（※数値と演算記号の間にスペースが必要）</b></td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>less</code></td>
<td style="text-align:left">ファイルの中身を一行ずつを読む<br /><code>f</code>で進み、<code>b</code>で戻る。<code>g</code>でファイル先頭に進み、<code>G</code>でファイル末尾に移動。<code>q</code>で終了。</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>cat</code></td>
<td style="text-align:left">ファイルの中身を全部表示</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>head</code>(<code>tail</code>)</td>
<td style="text-align:left">ファイルの先頭（末尾）を表示</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"><code>man</code></td>
<td style="text-align:left">各コマンドのマニュアルを表示</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"><code>grep</code></td>
<td style="text-align:left">パターンマッチ</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"><code>pipe</code></td>
<td style="text-align:left">左のコマンドの実行結果を右のコマンドの入力データにする</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"><code>diff</code></td>
<td style="text-align:left">2つのファイルの差分を表示</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center"><code>awk</code></td>
<td style="text-align:left">表形式データを処理</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center"><code>sort</code></td>
<td style="text-align:left">辞書順に並べる</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center"><code>uniq</code></td>
<td style="text-align:left">重複を管理</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">変数</td>
<td style="text-align:left">データを一時格納する</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center"><code>for</code></td>
<td style="text-align:left">ループ処理</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題1：UNIXコマンドの初歩を体験する">UNIX 課題1：UNIXコマンドの初歩を体験する<a class="anchor-link" href="#UNIX-課題1：UNIXコマンドの初歩を体験する">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><b>省略します。[ggks](https://www.google.com)</b>（もしくは <code>man hoge</code> ）</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># この後使うデータの準備（Webサイトのある階層を一括取得し、展開する。）</span>
$ wget http://kurodalab.bs.s.u-tokyo.ac.jp/class/Summer/2019/Day6/transomics_data.zip
$ unzip transomics_data.zip
$ mv transomics_data
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span> tree <span class="p">|</span> grep -v *.ipynb
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>.
├── Day6_AnswerFiles
│   ├── Step_i
│   │   ├── mappable_metabolite.txt
│   │   ├── measured_metabolite.txt
│   │   ├── metabolite_mapping_final.png
│   │   ├── metabolite_mapping_final.txt
│   │   └── metabolite_mapping_first.txt
│   ├── Step_ii
│   │   ├── fig2_mapping.png
│   │   ├── fig2_mapping.txt
│   │   ├── metab_rme.txt
│   │   ├── rme.txt
│   │   └── rme_mapping.txt
│   └── metabolome_CoA.txt
├── ipi.RAT.xrefs
├── metabolome.txt
├── phosphoproteome.txt

3 directories, 15 files
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題2：パターンマッチ入門">UNIX 課題2：パターンマッチ入門<a class="anchor-link" href="#UNIX-課題2：パターンマッチ入門">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th style="text-align:center">コマンド</th>
<th style="text-align:left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>-i</code></td>
<td style="text-align:left"><font color="red">大文字と小文字を区別せず検索する</font></td>
</tr>
<tr>
<td style="text-align:center"><code>-E</code></td>
<td style="text-align:left">拡張正規表現で検索を行う</td>
</tr>
<tr>
<td style="text-align:center"><code>-e</code></td>
<td style="text-align:left">一致処理に指定した正規表現を使う</td>
</tr>
<tr>
<td style="text-align:center"><code>-v</code></td>
<td style="text-align:left"><font color="red">一致しないものを検索する</font></td>
</tr>
<tr>
<td style="text-align:center"><code>-n</code></td>
<td style="text-align:left">検索結果に行番号を表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-l</code></td>
<td style="text-align:left">検索結果にファイル名のみ表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-h</code></td>
<td style="text-align:left">検索結果にファイル名を表示しない</td>
</tr>
<tr>
<td style="text-align:center"><code>-o</code></td>
<td style="text-align:left">検索結果に一致した文字を表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-C</code></td>
<td style="text-align:left">検索結果に一致した箇所から前後に指定した行数表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-r</code></td>
<td style="text-align:left">ディレクトリ内も検索対象とする</td>
</tr>
<tr>
<td style="text-align:center"><code>-L</code></td>
<td style="text-align:left">検索した結果、該当しなったファイルを表示する</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_metabolome</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"metabolome.txt"</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 1. データをExcelで開き、データの特徴を捉える。</span>
<span class="n">df_metabolome</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Unnamed: 0</th>
<th>Unnamed: 1</th>
<th>Unnamed: 2</th>
<th>Unnamed: 3</th>
<th>Unnamed: 4</th>
<th>Unnamed: 5</th>
<th>Unnamed: 6</th>
<th>Insulin=0.01nM</th>
<th>(Dataset 1 of 3)</th>
<th>Unnamed: 9</th>
<th>...</th>
<th>Unnamed: 70</th>
<th>Insulin=100nM.2</th>
<th>(Dataset 3 of 3).2</th>
<th>Unnamed: 73</th>
<th>Unnamed: 74</th>
<th>Unnamed: 75</th>
<th>Unnamed: 76</th>
<th>Unnamed: 77</th>
<th>Unnamed: 78</th>
<th>Unnamed: 79</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>No. (Figure. 2)</td>
<td>Compound name (Keio IAB)</td>
<td>Compound (KEGG)</td>
<td>KEGG Compound ID</td>
<td>Synonym 1</td>
<td>Synonym 2</td>
<td>Synonym 3</td>
<td>0min</td>
<td>2min</td>
<td>5min</td>
<td>...</td>
<td>60min</td>
<td>0min</td>
<td>2min</td>
<td>5min</td>
<td>10min</td>
<td>15min</td>
<td>20min</td>
<td>30min</td>
<td>60min</td>
<td>S1/S0</td>
</tr>
<tr>
<th>1</th>
<td>1</td>
<td>SAH</td>
<td>S-Adenosyl-L-homocysteine</td>
<td>C00021</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.085</td>
<td>0.048</td>
<td>0.077</td>
<td>...</td>
<td>0.037</td>
<td>N.D.</td>
<td>0.038</td>
<td>0.018</td>
<td>N.D.</td>
<td>0.047</td>
<td>N.D.</td>
<td>0.048</td>
<td>0.064</td>
<td>-2.192296401</td>
</tr>
<tr>
<th>2</th>
<td>2</td>
<td>2-Oxoglutarate</td>
<td>2-Oxoglutarate</td>
<td>C00026</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.52</td>
<td>0.44</td>
<td>0.35</td>
<td>...</td>
<td>0.8</td>
<td>0.59</td>
<td>0.35</td>
<td>0.27</td>
<td>0.3</td>
<td>0.39</td>
<td>0.36</td>
<td>0.49</td>
<td>0.95</td>
<td>2.218224139</td>
</tr>
</tbody>
</table>
<p>3 rows × 80 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># 2. "glucose" を含む行を表示する</span>
$ grep glucose metabolome.txt

<span class="c1"># 3. "Glucose" を含む行を表示する</span>
$ grep Glucose metabolome.txt

<span class="c1"># 4.  "glucose" を「含まない」行を表示する</span>
$ grep -v glucose metabolome.txt

<span class="c1"># 5. "glucose" または "Glucose" を含む行を表示する</span>
$ grep -i glucose metabolome.txt

<span class="c1"># 6. "glucose" および "Glucose" を「共に含まない」行を表示する</span>
$ grep -i -v glucose metabolome.txt

<span class="c1"># 7. インデックス113の代謝物を表示する。</span>
$ grep ^113 metabolome.txt
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題3：パイプとリダイレクション、ファイル取り扱いの基本">UNIX 課題3：パイプとリダイレクション、ファイル取り扱いの基本<a class="anchor-link" href="#UNIX-課題3：パイプとリダイレクション、ファイル取り扱いの基本">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># 1. grepの結果をテキストファイルに出力</span>
$ grep CoA metabolome.txt > metabolome_CoA.txt

<span class="c1"># 2. 行数をカウント</span>
$ wc metabolome_CoA.txt

<span class="c1"># 3. diffで模範解答との違いを出力（出力がなければ正解）</span>
$ diff metabolome_CoA.txt  Day6_AnswerFiles/metabolome_CoA.txt

<span class="c1"># 4. 一度にgrep結果の行数をカウント</span>
$ grep CoA metabolome.txt <span class="p">|</span> wc

<span class="c1"># 5. ファイルコピー</span>
$ cp metabolome_CoA.txt metabolome_CoA_copy.txt

<span class="c1"># 6. ファイル名の変更</span>
$ mv metabolome_CoA_copy.txt metabolome_CoA_cp.txt

<span class="c1"># 7. ファイル削除</span>
$ rm metabolome_CoA_cp.txt
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題4：awk">UNIX 課題4：<code>awk</code><a class="anchor-link" href="#UNIX-課題4：awk">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th style="text-align:center">#</th>
<th style="text-align:left">コマンド</th>
<th style="text-align:left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:left"><code>$ awk '{ print }' metabolome.txt</code></td>
<td style="text-align:left">全ての行を表示する。</td>
</tr>
<tr>
<td style="text-align:center">ⅱ</td>
<td style="text-align:left"><code>$ awk '{ print $1 }' metabolome.txt</code><br /><code>$ cut –f1 metabolome.txt</code></td>
<td style="text-align:left">1列目を表示する。変数 <code>$1</code> は1列目を指す。<code>cut</code> コマンドの <code>-f</code> オプションを用いても同じことができる。</td>
</tr>
<tr>
<td style="text-align:center">ⅲ</td>
<td style="text-align:left"><code>$ awk '{ print $2 }' metabolome.txt</code><br /><code>$ awk -F"\t" '{ print $2 }' metabolome.txt</code></td>
<td style="text-align:left">2列目を表示する。<code>-F"\t"</code> オプションを指定すると、タブ文字を列の区切りとして認識する。指定しないと区切り文字はタブ文字とスペース文字どちらも。</td>
</tr>
<tr>
<td style="text-align:center">ⅳ</td>
<td style="text-align:left"><code>$ awk -F"\t" '{ print $4"\t"$2 }' metabolome.txt</code><br /><code>$ cut –f4,2 metabolome.txt</code></td>
<td style="text-align:left">1.    4列目、2列目の順に表示する。出力形式は [4列目][タブ文字][2列目]。<code>cut</code> コマンドで同じことをしようとすると、出力が[2列目][タブ文字][4列目]になってしまう。</td>
</tr>
<tr>
<td style="text-align:center">ⅴ</td>
<td style="text-align:left"><code>$ awk -F"\t" '$2 ~ /CoA/{ print }' metabolome.txt</code></td>
<td style="text-align:left">2列目に文字列 "CoA" を含む行のみ表示する</td>
</tr>
<tr>
<td style="text-align:center">ⅵ</td>
<td style="text-align:left"><code>$ awk '$1 == “16”, $1 == “24” { print }' metabolome.txt!</code></td>
<td style="text-align:left">1列目が ”16” の行から、1列目が ”24” の行までの範囲を表示する。“”で囲まれていると文字列として認識される。</td>
</tr>
<tr>
<td style="text-align:center">ⅶ</td>
<td style="text-align:left"><code>$ awk -F"\t" '($80 > 1){ print }' metabolome.txt</code></td>
<td style="text-align:left">80列目の値が 1 より大きい行のみ表示する</td>
</tr>
<tr>
<td style="text-align:center">ⅷ</td>
<td style="text-align:left"><code>$ awk '$2 == “ATP” { print }' metabolome.txt</code></td>
<td style="text-align:left">2列目が文字列 "ATP" である行のみ表示する</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題5：sort-と-uniq">UNIX 課題5：<code>sort</code> と <code>uniq</code><a class="anchor-link" href="#UNIX-課題5：sort-と-uniq">¶</a></h3><p>　リン酸化タンパク質データ <code>phosphoproteome.txt</code> の各行は、リン酸化残基を持つペプチド（Not タンパク質）を表す。これについて、以下の演習問題に答えなさい。1, 2行目が見出し行であることに注意すること。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="sort"><code>sort</code><a class="anchor-link" href="#sort">¶</a></h4><table>
<thead><tr>
<th style="text-align:center">略</th>
<th style="text-align:center">オプション</th>
<th style="text-align:left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>-n</code></td>
<td style="text-align:center"><code>--numeric-sort</code></td>
<td style="text-align:left">数値として並べ替える</td>
</tr>
<tr>
<td style="text-align:center"><code>-r</code></td>
<td style="text-align:center"><code>--reverse</code></td>
<td style="text-align:left">降順で並べ替える</td>
</tr>
<tr>
<td style="text-align:center"><code>-t</code></td>
<td style="text-align:center"><code>--field-separator</code></td>
<td style="text-align:left">項目の区切りを指定する</td>
</tr>
<tr>
<td style="text-align:center"><code>-k</code></td>
<td style="text-align:center"><code>--key</code></td>
<td style="text-align:left">キーを指定して並べ替える</td>
</tr>
<tr>
<td style="text-align:center"><code>-u</code></td>
<td style="text-align:center"><code>--unique-r</code></td>
<td style="text-align:left">重複行を省いて並べ替える</td>
</tr>
<tr>
<td style="text-align:center"><code>-f</code></td>
<td style="text-align:center"><code>--ignore-case-u</code></td>
<td style="text-align:left">大文字小文字を関係なく並べ替える</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="uniq"><code>uniq</code><a class="anchor-link" href="#uniq">¶</a></h4><table>
<thead><tr>
<th style="text-align:center">略</th>
<th style="text-align:center">オプション</th>
<th style="text-align:left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>-c</code></td>
<td style="text-align:center"><code>--count</code></td>
<td style="text-align:left">重複した行数も表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-d</code></td>
<td style="text-align:center"><code>--repeated</code></td>
<td style="text-align:left">重複した行を表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-D</code></td>
<td style="text-align:center"><code>--all-repeated</code></td>
<td style="text-align:left">重複した行をすべて表示する</td>
</tr>
<tr>
<td style="text-align:center"><code>-u</code></td>
<td style="text-align:center"><code>--unique</code></td>
<td style="text-align:left">重複した行は一切表示しない</td>
</tr>
<tr>
<td style="text-align:center"><code>-f</code></td>
<td style="text-align:center"><code>--skip-fields=N</code></td>
<td style="text-align:left">指定した項目以降で重複を判断する</td>
</tr>
<tr>
<td style="text-align:center"><code>-w</code></td>
<td style="text-align:center"><code>--check-chars=N</code></td>
<td style="text-align:left">指定した文字数までで重複を判断する</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_phosphoproteome</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"phosphoproteome.txt"</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 1. データをExcelで開き、データの特徴を捉える。</span>
<span class="n">df_phosphoproteome</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[6]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Phosphoproteomic data of the responsible metabolic enzymes and the responsible protein kinases</th>
<th>Unnamed: 1</th>
<th>Unnamed: 2</th>
<th>Unnamed: 3</th>
<th>Unnamed: 4</th>
<th>Unnamed: 5</th>
<th>Unnamed: 6</th>
<th>Unnamed: 7</th>
<th>Unnamed: 8</th>
<th>Unnamed: 9</th>
<th>Unnamed: 10</th>
<th>Unnamed: 11</th>
<th>Unnamed: 12</th>
<th>Unnamed: 13</th>
<th>Unnamed: 14</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>EC number</td>
<td>IPI</td>
<td>KEGG identifier</td>
<td>Gene name</td>
<td>KEGG annotation</td>
<td>Phosphopeptide sequence</td>
<td>Other Modification</td>
<td>Phosphorylated residue</td>
<td>time=0min</td>
<td>2min</td>
<td>5min</td>
<td>10min</td>
<td>30min</td>
<td>45min</td>
<td>60min</td>
</tr>
<tr>
<th>1</th>
<td>ec:1.1.1.37</td>
<td>IPI00198717</td>
<td>rno:24551</td>
<td>Mdh1</td>
<td>malate dehydrogenase</td>
<td>KLpSSAMSAAK</td>
<td>NaN</td>
<td>S241</td>
<td>1.027587068</td>
<td>1.554700684</td>
<td>1.20995715</td>
<td>1</td>
<td>1.479191537</td>
<td>1.191214131</td>
<td>1.539084861</td>
</tr>
<tr>
<th>2</th>
<td>ec:1.1.1.95</td>
<td>IPI00475835</td>
<td>rno:58835</td>
<td>Phgdh</td>
<td>phosphoglycerate dehydrogenase</td>
<td>QNLSKEELIAELQDCEGLIVRpSATK</td>
<td>NaN</td>
<td>S55</td>
<td>NaN</td>
<td>0.75701328</td>
<td>NaN</td>
<td>1</td>
<td>1.159319876</td>
<td>NaN</td>
<td>0.889512017</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># 2. 1-2行目の見出し行を表示せず、3行目以降を表示する。</span>
$ tail -n +3 hoge.txt

<span class="c1"># 3. phosphoproteome.txt の3行目以降の各行には、リン酸化ペプチドのIDと各時刻のリン酸化強度値が含まれている。これらにリン酸化された酵素は全部でいくつあるか数えなさい。</span>
$ tail -n +3 phosphoproteome.txt <span class="p">|</span> cut -f <span class="m">1</span> <span class="p">|</span> sort <span class="p">|</span> uniq <span class="p">|</span> wc

<span class="c1"># 4.  それぞれの酵素について何個のリン酸化ペプチドが得られたか数えなさい。</span>
$ tail -n +3 phosphoproteome.txt <span class="p">|</span> cut -f <span class="m">1</span> <span class="p">|</span> sort <span class="p">|</span> uniq  -c
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div style="border: solid 1.0px #000000;padding: 0.5em 1em; margin: 2em 0;">
<h3>余談：メタボロームとは？</h3>
<p>　<b>細胞や臓器、血液など生体試料中に含まれる代謝物質（糖やアミノ酸、脂質など）の総体、もしくはその網羅的計測データ</b>を指す。異なる条件下に置いた細胞から得たメタボロームデータを比較することにより、<font color="red"><b>当該細胞の代謝調節メカニズムの解明が可能</b></font>であるほか、<font color="red"><b>薬効バイオマーカー探索</b></font>などにも用いられている。有名なデータベースとしては、[HMDB (Human Metabolome DataBase)](http://www.hmdb.ca/)や、本実習で用いる[KEGG (Kyoto Encyclopedia of Genes and Genomes)](https://www.genome.jp/kegg/)がある。</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="anchor3">3. トランスオミクスStep1：変動した代謝物の同定</h2><p>　代謝物データ <code>metabolome.txt</code> から変動代謝物を抜き出し、 KEGG Mapper で利用可能な形式に変換する。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="変動代謝物の判定基準">変動代謝物の判定基準<a class="anchor-link" href="#変動代謝物の判定基準">¶</a></h3><p>　今回の目的は、<font color="red"><b>インスリン依存の代謝物濃度変動</b></font>を捉え、<b>インスリンシグナルがどのように伝達しているかを調べる</b>ことです。つまり、<b>「インスリン濃度が上昇した時に各代謝物の濃度が変化したか？」</b>を定量的にはかる指標が必要になります。</p>
<p>　今回の実験では、これに、以下の画像で示される $S_0,S_1$ という値を用いています。$S_0,S_1$ はそれぞれ<b>符号付の面積</b>（$S_0$ は常に正だが）であり、<font color="red">インスリン濃度が高い時の濃度</font>が<font color="blue">コントロール</font>に比べて高ければ正、低ければ負の値となります。</p>
<ul>
<li>$S_0$ は、<font color="blue">コントロール</font>の値を平均とした $1\sigma$ 区間の面積です</li>
<li>$S_1$ は、最も外側の枠で囲まれた面積に符号をつけたものです。</li>
</ul>
<p>　この定量評価は少し雑（例えば、<font color="green">中濃度のインスリン</font>ではそこまで変動しないが、<font color="red">高濃度のインスリン</font>には大きく反応する場合に、<font color="red">高濃度のインスリン</font>に対する応答が同じ程度であれば、中濃度でもある程度反応するものに比べて $S_1/S_0$ の値が大きくなるが、それは正しく現象を捉えているのか…？）な気もしますが、今回は<b>「正/負に反応したかどうか？」</b>のみを考えているので、そこまで気にしないことにします。</p>
<p><img src="theme/img/3S_Basic_Laboratory_Work_in_Life_Science_Experiments/kuroda/What_S0_and_S1_indicates.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># 1. 代謝物の変動を表す指標 S1/S0 はmetabolome.txt の 80 列目に記載されている。80列目だけ表示しなさい。</span>
$ cut -f80 metabolome.txt

<span class="c1"># 2. metabolome.txtの1-2行目は、各列の内容を説明する「見出し行」であってデータそのものではない。3行目以降表示したいときはどうすれば良いか答えなさい。</span>
$ tail -n +3 metabolome.txt

<span class="c1">#=== データの前処理 ===</span>
<span class="c1"># 3. 欠損点などの理由によりS1 / S0を計算できなかった代謝物については、当該箇所(80列目)に ”N.D.”と記載されている。“N.D." の代謝物の行を除いたデータを measured_metabolite.txt に出力しなさい。</span>
$ tail -n +3 metabolome.txt <span class="p">|</span> awk -F<span class="s2">"\t"</span> <span class="s1">'($80 != "N.D."){ print }'</span> > measured_metabolite.txt

<span class="c1"># 4. 3の結果が模範解答ファイルと一致しているか確かめなさい。</span>
$ diff measured_metabolite.txt Day6_AnswerFiles/Step_i/measured_metabolite.txt

<span class="c1"># 5. KEGGデータベース内にIDが存在しない代謝物については、KEGGのIDを記載する箇所(4列目)に "-" と記載されている。4列目が "-" となっている代謝物をmeasured_metabolite.txt から取り除いた結果残るデータを mappable_metabolite.txt に出力しなさい。</span>
$ awk -F<span class="s2">"\t"</span> <span class="s1">'($4 != "-"){ print }'</span> measured_metabolite.txt > mappable_metabolite.txt

<span class="c1"># 6. 5の結果が模範解答ファイルと一致しているか確かめなさい。</span>
$ diff mappable_metabolite.txt Day6_AnswerFiles/Step_i/mappable_metabolite.txt

<span class="c1">#=== カラーマッピングの作成 ===</span>
<span class="c1"># 7. S1 / S0 > 1の代謝物は「増加」である。mappable_metabolite.txtを元にして、[増加した代謝物 ID][タブ文字]["red"] という形式のファイル metabolite_mapping.txt をつくりなさい。代謝物のIDは4列目に格納されている。また、"red" は綴りそのままの文字列である。</span>
$ awk -F<span class="s2">"\t"</span> <span class="s1">'($80 > 1){ print }'</span> mappable_metabolite.txt <span class="p">|</span> awk -F<span class="s2">"\t"</span> <span class="s1">'{ print $4"\t""red" }'</span> > metabolite_mapping.txt

<span class="c1"># 8. 7の結果が模範解答ファイルと一致しているか確かめなさい。</span>
$ diff metabolite_mapping.txt Day6_AnswerFiles/Step_i/metabolite_mapping_first.txt

<span class="c1"># 9. S1 / S0 < -1の代謝物は「減少」である。[減少した代謝物 ID][タブ文字]["blue"] という形式で、metabolite_mapping.txtに「追加書き込み」しなさい。</span>
$ awk -F<span class="s2">"\t"</span> <span class="s1">'($80 < -1){ print }'</span> mappable_metabolite.txt <span class="p">|</span> awk -F<span class="s2">"\t"</span> <span class="s1">'{ print $4"\t""blue" }'</span> >> metabolite_mapping.txt

<span class="c1"># 10. -1 < S1/S0 < 1の代謝物は「変動なし」である。[変動なしの代謝物 ID][tab]["green"] という形式で、metabolite_mapping.txtに追加書き込みしなさい。</span>
$ awk -F<span class="s2">"\t"</span> <span class="s1">'(-1 < $80 && $80 < 1){ print }'</span> mappable_metabolite.txt <span class="p">|</span> awk -F<span class="s2">"\t"</span> <span class="s1">'{ print $4"\t""green" }'</span> >> metabolite_mapping.txt

<span class="c1"># 11. 7-10 で作成したファイルが模範解答ファイルと一致しているか確かめなさい。</span>
$ diff metabolite_mapping.txt Day6_AnswerFiles/Step_i/metabolite_mapping_final.txt
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p># 12. <a href="http://www.genome.jp/kegg/tool/map_pathway2.html">KEGG Mapper</a> を開き、以下の手順で代謝経路図を表示しなさい。</p>
<ol>
<li><code>metabolite_mapping.txt</code> の内容を KEGG Mapper の入力フォームにコピー＆ペーストする</li>
<li>KEGG Mapper にて、Search against 欄に Rattus novegicus を意味する 'rno' を入力（∵Fao細胞はラット肝がん由来）。</li>
<li>Use uncolored diagram をチェックして Exec ボタンを押す。</li>
<li>'rno01100 Metabolic pathways - Rattus norvegicus (rat)' をクリックする。</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題6：変数">UNIX 課題6：変数<a class="anchor-link" href="#UNIX-課題6：変数">¶</a></h3><table>
<thead><tr>
<th style="text-align:center">#</th>
<th style="text-align:left">コマンド</th>
<th style="text-align:left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:left"><code>$ i=1</code></td>
<td style="text-align:left">変数に値を代入するコマンドは [変数名]=[値] と書く</td>
</tr>
<tr>
<td style="text-align:center">ⅱ</td>
<td style="text-align:left"><code>$ i = 1</code><br />>>> -bash: i: コマンドが見つかりません</td>
<td style="text-align:left">変数名、代入記号、値の間にスペースを挟むとエラーになる</td>
</tr>
<tr>
<td style="text-align:center">ⅲ</td>
<td style="text-align:left"><code>$ echo $i</code><br />>>> 1</td>
<td style="text-align:left">変数に格納されている値を呼び出す際には、\$[変数名] と書く。echoは引数を表示するだけの関数、意外とよく使う。</td>
</tr>
<tr>
<td style="text-align:center">ⅳ</td>
<td style="text-align:left"><code>$ echo $ij</code><br />>>> （何も出力されない）<br /><code>$ echo ${i}j</code><br />>>> 1j</td>
<td style="text-align:left">変数名の直後に文字列を書く場合、変数名と当該文字列の区切りを明確にするため、変数名は { } で囲まなければならない。</td>
</tr>
<tr>
<td style="text-align:center">ⅴ</td>
<td style="text-align:left"><code>$ echo '${i}j'</code><br />>>> \${i}j</td>
<td style="text-align:left">シングルクオートで囲まれた文字列中に含まれる変数名は、文字列としてそのまま出力される</td>
</tr>
<tr>
<td style="text-align:center">ⅵ</td>
<td style="text-align:left"><code>$ i=$(ls)</code><br /><code>$ echo $i</code><br />>>> Day6_AnswerFiles metabolite_mapping.txt ...</td>
<td style="text-align:left">コマンドの実行結果そのものを変数として扱いたいときは、$( command ) のように書く</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="UNIX-課題7：for">UNIX 課題7：<code>for</code><a class="anchor-link" href="#UNIX-課題7：for">¶</a></h3><div class="highlight"><pre><span></span><span class="c1"># 1. 整数を1から10まで順に表示する。</span>
$ seq <span class="m">10</span>

<span class="c1"># 2. 1から10までの整数をforループごとにiに代入し、出力する。</span>
$ <span class="k">for</span> i in <span class="k">$(</span>seq <span class="m">10</span><span class="k">)</span> <span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="nv">$i</span> <span class="p">;</span> <span class="k">done</span>

<span class="c1"># 3. 1から10までの整数を順に足し合わせる。</span>
$ <span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
$ <span class="k">for</span> i in <span class="k">$(</span>seq <span class="m">10</span><span class="k">)</span> <span class="p">;</span> <span class="k">do</span> <span class="nv">sum</span><span class="o">=</span><span class="k">$(</span>expr <span class="nv">$sum</span> + <span class="nv">$i</span><span class="k">)</span> <span class="p">;</span> <span class="nb">echo</span> <span class="nv">$sum</span> <span class="p">;</span> <span class="k">done</span>

<span class="c1"># 4. metabolite_mapping.txtとfor文を用いて、増加した代謝物IDのみを黒色で表示するKEGG Mapper用テキストを表示せよ。</span>
$ <span class="k">for</span> aCPD in <span class="k">$(</span>awk -F<span class="s2">"\t"</span> <span class="s1">'($2 == "red"){ print }'</span> metabolite_mapping.txt <span class="p">|</span> cut -f1<span class="k">)</span> <span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -e <span class="s2">"</span><span class="nv">$aCPD</span><span class="s2">\tblack"</span><span class="p">;</span> <span class="k">done</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="anchor4">4. トランスオミクスStep2：責任代謝酵素の同定</h2><p>　<b>「ある代謝物質を基質または産物とする酵素」</b>のことを<a href="https://www.sciencedirect.com/science/article/pii/S2211124714005907">Reconstruction of Insulin Signal Flow from Phosphoproteome and Metabolome Data</a>では「責任代謝酵素 (RME: Responsible Metabolic Enzyme)」と定義した。責任代謝酵素について以下の問いに答えなさい。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p># 1. 多くのデータベースには、APIといわれるインターフェイスが存在する。以下のURLをブラウザ等に打ち込み、KEGGデータベースの「クエン酸 (KEGG COMPOUND ID: C00158) 」の項を閲覧せよ。代謝物データには名前・分子式・分子量・代謝経路、代謝酵素などの情報が含まれていることが確認できる。
URL: <a href="http://rest.kegg.jp/get/cpd:C00158">http://rest.kegg.jp/get/cpd:C00158</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># 2. curl [URL] は、 URL にあるウェブページの内容を標準出力に書き出すコマンドである。以下のコマンドにより、KEGGデータベースにアクセスし、「クエン酸 (KEGG COMPOUND ID: C00158) 」のデータを取得し、データの内容を確認せよ。</span>
$ curl http://rest.kegg.jp/get/cpd:C00158  > C00158.txt
$ less C00158.txt

<span class="c1"># 3. KEGGデータベースは、上記のAPI（get）以外にも様々なAPIを提供している。API "link" はある項目に対して関連のある項目を網羅的に出力する。以下のコマンドにより、KEGGデータベースにアクセスし、「クエン酸 (KEGG COMPOUND ID: C00158) 」に関わる全代謝酵素（ec.X.X.X.X）のデータを出力せよ。C00158.txtと比較すると、ENZYMEの項と同じことがわかる。</span>
$ curl http://rest.kegg.jp/link/ec/cpd:C00158

<span class="c1">#=== 変動代謝物に関わる代謝酵素の抜き出し ===</span>
<span class="c1"># 4. では、変動代謝物に関わる代謝酵素の抜き出しを行う。まず、変動代謝物のデータをまとめたファイル metab_rme.txt を作成し、lessで確認せよ。なお、このファイルは metabolite_mapping.txt から変動代謝物を抜き出し、それらをcurlを含むfor文にわたすことで作成可能である。最後にソートすること</span>
$ <span class="k">for</span> aCPD in <span class="k">$(</span>awk -F<span class="s2">"\t"</span> <span class="s1">'($2 != "green"){ print }'</span> metabolite_mapping.txt <span class="p">|</span> cut -f1<span class="k">)</span> <span class="p">;</span> <span class="k">do</span> curl http://rest.kegg.jp/link/ec/cpd:<span class="nv">$aCPD</span><span class="p">;</span> <span class="k">done</span> <span class="p">|</span> sort> metab_rme.txt

<span class="c1"># 5. 結果が模範解答と一致しているかを確認する。</span>
$ diff metab_rme.txt Day6_AnswerFiles/Step_ii/metab_rme.txt

<span class="c1"># 6. metabolite_rme.txtから代謝酵素のみを取り出し、重複をなくし、空白行を削除したファイルrme.txtを作成せよ。（ヒント：空白行の削除にはgrep –vを用いる。空白行は"^$"、つまり「行先頭^の次の文字が行末尾$」で表現）</span>
$ cut -f2 metab_rme.txt <span class="p">|</span> sort <span class="p">|</span> uniq <span class="p">|</span> grep -v <span class="s2">"^</span>$<span class="s2">"</span> > rme.txt

<span class="c1"># 7. 結果が模範解答と一致しているかを確認する。（注：KEGGの更新により、ここからは微妙に一致しないこともある）</span>
$ diff rme.txt Day6_AnswerFiles/Step_ii/rme.txt

<span class="c1"># 8. 黒色の責任代謝酵素を KEGG Mapper で視覚化するための元ファイル、rme_mapping.txtを作成する。</span>
$ <span class="k">for</span> aEC in <span class="k">$(</span>cat rme.txt<span class="k">)</span> <span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -e <span class="s2">"</span><span class="nv">$aEC</span><span class="s2">\tblack"</span><span class="p">;</span> <span class="k">done</span> > rme_mapping.txt

<span class="c1"># 9. 結果が模範解答と一致しているかを確認する。</span>
$ diff rme_mapping.txt Day6_AnswerFiles/Step_ii/rme_mapping.txt

<span class="c1"># 10. metabolite_mapping.txt と rme_mapping.txt を一つのファイルにまとめる。（fig2_mapping.txt）</span>
$ cat metabolite_mapping.txt rme_mapping.txt > fig2_mapping.txt

<span class="c1"># 11. 結果が模範解答と一致しているかを確認する。</span>
$ diff fig2_mapping.txt Day6_AnswerFiles/Step_ii/fig2_mapping.txt
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p># 12. <a href="http://www.genome.jp/kegg/tool/map_pathway2.html">KEGG Mapper</a> を開き、先ほどと同様の手順で変動代謝物と責任代謝酵素を同時に視覚化しなさい。</p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

            <div>
</div>

            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h5>Published</h5>
            <time itemprop="dateCreated" datetime="2019-07-17T00:00:00+09:00"> 7 17, 2019</time>

<h5>Last Updated</h5>
<time datetime="2019-07-17T00:00:00+09:00"> 7 17, 2019</time>

            <h5>Category</h5>
            <a class="category-link" href="https://iwasakishuto.github.io/study/notes/categories.html#sheng-ming-ke-xue-ji-chu-shi-yan-ref">生命科学基礎実験</a>
            <h5>Tags</h5>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://iwasakishuto.github.io/study/notes/tags#3s-ref">3S
                    <span>57</span>
</a></li>
                <li><a href="https://iwasakishuto.github.io/study/notes/tags#sheng-ming-ke-xue-ji-chu-shi-yan-ref">生命科学基礎実験
                    <span>12</span>
</a></li>
            </ul>
<h5>Contact</h5>
    <a href="https://twitter.com/cabernet_rock" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://github.com/iwasakishuto" title="My github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="https://www.facebook.com/iwasakishuto" title="My facebook Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-facebook sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="https://github.com/Pelican-Elegant/elegant/" title="Theme Elegant Home Page">Elegant</a></li>
    </ul>
</div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
        <script src="https://iwasakishuto.github.io/js/smooth-scroll.polyfills.min.js"></script>

    
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/study/notes/theme/css/custom.css" media="screen">
    </body>
    <!-- Theme: Elegant built for Pelican
    License : MIT -->
</html>